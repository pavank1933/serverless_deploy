{
   "AWSTemplateFormatVersion":"2010-09-09",
   "Description":"AWS CloudFormation for Lambda function using Container image",
   "Parameters":{
      "ImageURI":{
         "Type":"String",
         "Default":"123456789.dkr.ecr.region.amazonaws.suffix/myimage:latest"
      },
      "RoleArn":{
         "Type":"String"
      },
      "FunctionName":{
         "Type":"String",
         "Default":"campaign-credits"
      },
      "FunctionDesc":{
         "Type":"String",
         "Default":"campaign credits API"
      }
   },
   "Resources":{
      "MinimalImageFunction":{
         "Type":"AWS::Lambda::Function",
         "Properties":{
            "Code":{
               "ImageUri":{
                  "Ref":"ImageURI"
               }
            },
            "PackageType":"Image",
            "Description":{
               "Ref":"FunctionDesc"
            },
            "FunctionName":{
               "Ref":"FunctionName"
            },
            "Timeout":60,
            "Role":{
               "Ref":"RoleArn"
            },
            "Tags":[
               {
                  "Key":"Name",
                  "Value":{
                     "Ref":"FunctionName"
                  }
               }
            ]
         }
      }
   }
}
